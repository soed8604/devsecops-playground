"use strict";(self.webpackChunkes_documentacion_devops=self.webpackChunkes_documentacion_devops||[]).push([[3144],{4398:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"kubernetes/instalacion/prerequisitos","title":"Pre-requisitos del Sistema","description":"Antes de iniciar la instalaci\xf3n de Kubernetes, aseg\xfarate de que cada uno de tus servidores (tanto Control Planes como Workers) cumpla con los siguientes requisitos:","source":"@site/docs/kubernetes/instalacion/01-prerequisitos.md","sourceDirName":"kubernetes/instalacion","slug":"/kubernetes/instalacion/prerequisitos","permalink":"/devsecops-playground/docs/kubernetes/instalacion/prerequisitos","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/kubernetes/instalacion/01-prerequisitos.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Pre-requisitos del Sistema"},"sidebar":"tutorialSidebar","previous":{"title":"Dashboard API Pod en CrashLoopBackOff","permalink":"/devsecops-playground/docs/kubernetes/troubleshooting/dashboard-api-crashloop"},"next":{"title":"Configuraci\xf3n de HAProxy Load Balancer","permalink":"/devsecops-playground/docs/kubernetes/instalacion/haproxy-setup"}}');var a=r(4848),i=r(8453);const o={sidebar_position:1,title:"Pre-requisitos del Sistema"},t="Pre-requisitos",d={},l=[{value:"1. Servidores Utilizados",id:"1-servidores-utilizados",level:2},{value:"2. Sistema Operativo",id:"2-sistema-operativo",level:2},{value:"3. Recursos del Sistema",id:"3-recursos-del-sistema",level:2},{value:"4. Configuraci\xf3n de Red B\xe1sica",id:"4-configuraci\xf3n-de-red-b\xe1sica",level:2},{value:"5. Deshabilitar Swap",id:"5-deshabilitar-swap",level:2},{value:"6. Otros Requisitos Comunes",id:"6-otros-requisitos-comunes",level:2}];function c(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"pre-requisitos",children:"Pre-requisitos"})}),"\n",(0,a.jsx)(s.p,{children:"Antes de iniciar la instalaci\xf3n de Kubernetes, aseg\xfarate de que cada uno de tus servidores (tanto Control Planes como Workers) cumpla con los siguientes requisitos:"}),"\n",(0,a.jsx)(s.h2,{id:"1-servidores-utilizados",children:"1. Servidores Utilizados"}),"\n",(0,a.jsx)(s.p,{children:"Describe brevemente cu\xe1ntos servidores usaste, qu\xe9 roles (Control Plane, Worker) tienen y sus IPs (puedes poner una tabla simple)."}),"\n",(0,a.jsxs)(s.table,{children:[(0,a.jsx)(s.thead,{children:(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.th,{children:"Rol"}),(0,a.jsx)(s.th,{children:"Nombre"}),(0,a.jsx)(s.th,{children:"Direcci\xf3n IP"})]})}),(0,a.jsxs)(s.tbody,{children:[(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Control Plane"}),(0,a.jsx)(s.td,{children:"k8s-master-01"}),(0,a.jsx)(s.td,{children:"192.168.100.12"})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Control Plane"}),(0,a.jsx)(s.td,{children:"k8s-master-02"}),(0,a.jsx)(s.td,{children:"192.168.100.13"})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Control Plane"}),(0,a.jsx)(s.td,{children:"k8s-master-03"}),(0,a.jsx)(s.td,{children:"192.168.100.14"})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Worker"}),(0,a.jsx)(s.td,{children:"k8s-worker-01"}),(0,a.jsx)(s.td,{children:"192.168.100.15"})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Worker"}),(0,a.jsx)(s.td,{children:"k8s-worker-02"}),(0,a.jsx)(s.td,{children:"192.168.100.16"})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Load Balancer"}),(0,a.jsx)(s.td,{children:"lb-k8s"}),(0,a.jsx)(s.td,{children:"192.168.100.7"})]})]})]}),"\n",(0,a.jsx)(s.h2,{id:"2-sistema-operativo",children:"2. Sistema Operativo"}),"\n",(0,a.jsxs)(s.p,{children:["Especifica la distribuci\xf3n y versi\xf3n exacta del sistema operativo instalado en ",(0,a.jsx)(s.strong,{children:"todos"})," los servidores."]}),"\n",(0,a.jsx)(s.p,{children:"[Tu descripci\xf3n aqu\xed. Ejemplo: Todos los servidores utilizan Ubuntu Server 22.04 LTS.]"}),"\n",(0,a.jsx)(s.p,{children:"Puedes verificar la versi\xf3n con:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"lsb_release -a\n# O\n# cat /etc/os-release\n"})}),"\n",(0,a.jsx)(s.h2,{id:"3-recursos-del-sistema",children:"3. Recursos del Sistema"}),"\n",(0,a.jsx)(s.p,{children:"Aseg\xfarate de que cada servidor cumpla con los requisitos m\xednimos recomendados por Kubernetes:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Control Planes: Al menos 2GB de RAM y 2 CPUs."}),"\n",(0,a.jsx)(s.li,{children:"Workers: Al menos 1GB de RAM y 1 CPU (se recomienda m\xe1s para cargas de trabajo reales)."}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"4-configuraci\xf3n-de-red-b\xe1sica",children:"4. Configuraci\xf3n de Red B\xe1sica"}),"\n",(0,a.jsx)(s.p,{children:"Realiza la siguiente configuraci\xf3n de red en cada uno de los 5 nodos de Kubernetes (maestros y workers), NO en el balanceador por ahora:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"IPs Est\xe1ticas: Confirma que cada nodo tiene una direcci\xf3n IP est\xe1tica dentro de tu subred de laboratorio (192.168.100.0/24).\n[Tu descripci\xf3n aqu\xed. Ejemplo: Configuramos IPs est\xe1ticas a trav\xe9s de /etc/netplan/ o configuraciones de red de la VM.]"}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"Resoluci\xf3n de Nombres (/etc/hosts): Edita el archivo /etc/etc/hosts en CADA NODO de Kubernetes para que puedan resolver los nombres de host de los otros nodos de Kubernetes y la IP del balanceador."}),"\n",(0,a.jsx)(s.p,{children:"A\xf1ade l\xedneas como estas al archivo /etc/etc/hosts en cada uno de los 5 nodos de Kubernetes:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"# Hosts del Cluster Kubernetes\n192.168.100.7   lb-k8s\n192.168.100.12  k8s-master-01\n192.168.100.13  k8s-master-02\n192.168.100.14  k8s-master-03\n192.168.100.15  k8s-worker-01\n192.168.100.16  k8s-worker-02\n"})}),"\n",(0,a.jsx)(s.p,{children:"Puedes verificar el contenido con:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"cat /etc/etc/hosts\n"})}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"Puertos de Firewall (UFW): Configura el firewall b\xe1sico en CADA NODO de Kubernetes. Aseg\xfarate de que SSH est\xe9 permitido para poder acceder. Importante: Por   ahora, solo aseg\xfarate de que tu pol\xedtica por defecto para el tr\xe1fico entrante sea deny y permitas SSH. Abriremos otros puertos m\xe1s adelante seg\xfan sea necesario para Kubernetes y Calico."}),"\n",(0,a.jsx)(s.p,{children:"Verifica el estado de UFW:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"sudo ufw status verbose\n"})}),"\n",(0,a.jsx)(s.p,{children:"Si necesitas permitir SSH:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"sudo ufw allow 22/tcp\nsudo ufw enable # Si no est\xe1 activo\nsudo ufw status verbose\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"5-deshabilitar-swap",children:"5. Deshabilitar Swap"}),"\n",(0,a.jsx)(s.p,{children:"Kubernetes requiere que la memoria swap est\xe9 deshabilitada en todos los nodos de Kubernetes (maestros y workers) para un funcionamiento correcto y predecible."}),"\n",(0,a.jsx)(s.p,{children:"Ejecuta estos comandos en cada uno de los 5 nodos de Kubernetes:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"sudo swapoff -a\n"})}),"\n",(0,a.jsx)(s.p,{children:"Para que el cambio sea permanente despu\xe9s de reiniciar, edita el archivo /etc/fstab y comenta la l\xednea que se refiere a la swap."}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"# Edita el archivo fstab (puedes usar nano, vim, etc.)\nsudo nano /etc/fstab\n"})}),"\n",(0,a.jsx)(s.p,{children:"Busca la l\xednea que contiene la palabra swap y pon un # al principio para comentarla."}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"# /swapfile swap swap defaults 0 0   <-- L\xednea comentada\n"})}),"\n",(0,a.jsx)(s.p,{children:"Verifica que la swap est\xe9 deshabilitada:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"free -h\n"})}),"\n",(0,a.jsx)(s.h2,{id:"6-otros-requisitos-comunes",children:"6. Otros Requisitos Comunes"}),"\n",(0,a.jsx)(s.p,{children:"Asegurarse de tener acceso con un usuario que pueda usar sudo en cada servidor.\nAsegurarse de que la hora est\xe9 sincronizada entre los servidores (generalmente con NTP, que Ubuntu configura por defecto)."})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>o,x:()=>t});var n=r(6540);const a={},i=n.createContext(a);function o(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);